# 任务 2 v2：Stage 1 KD - 完整三路信号监督
# 全部三路蒸馏信号：
#   1. 响应 KD：soft logit 匹配（beta）
#   2. CNN 特征 KD：空间表征对齐（gamma_cnn）
#   3. RNN 特征 KD：时序状态对齐（gamma_rnn）
#   4. Readout 特征 KD：readout 表征对齐（gamma_readout）

data:
  distance: 3
  rounds: 5
  noise_strength: 0.005
  snr: 10.0
  use_soft: true
  num_train: 200000
  num_val: 20000
  batch_size: 512
  seed: 42
  online: true

teacher:
  checkpoint: "checkpoints/mock_teacher_d3/best_model.pt"

model:
  size: "small"
  rnn_type: "gru"

distillation:
  alpha: 0.25          # 任务损失权重
  beta: 0.25           # 响应 KD 权重
  gamma_cnn: 0.15      # CNN 特征 KD（空间，Hook A）
  gamma_rnn: 0.15      # RNN 特征 KD（时序，Hook B）
  gamma_readout: 0.2   # Readout 特征 KD
  temperature: 2.0
  feature_loss_type: "mse"

training:
  epochs: 30
  learning_rate: 0.001
  weight_decay: 0.0001
  scheduler: "cosine"
  warmup_steps: 200
  grad_clip: 1.0
  device: "auto"

logging:
  log_interval: 50
  eval_interval: 1
  save_dir: "checkpoints/stage1_v2_kd_d3"
